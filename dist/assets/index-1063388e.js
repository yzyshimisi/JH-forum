import{d as N,r as A,D as W,j as z,o as k,K as T,Y as i,a as g,L as n,U as p,P as M,Z as U,e as q,_ as X,c as R,F as ue,$ as ce,M as E,O as D,w as F,n as ee,s as w,a0 as ie,Q as j,a1 as de,a2 as me}from"./@vue-f70ab1bd.js";import{c as pe,a as _e,u as te,b as he}from"./vue-router-29025daf.js";import{c as ge,u as x}from"./vuex-cc1858c6.js";import{a as fe}from"./axios-707ed124.js";import{_ as oe,a as ve,b as we,c as se,d as ye,e as ke,f as ne,g as be,N as K,h as Pe,i as Oe,u as Ae,j as Le,k as Ee,l as Re,m as Ie,n as $e,o as Ce,p as Se,q as Te,r as Me}from"./naive-ui-9980ffcb.js";import{S as Ue,M as Ke,L as qe,C as De,B as Ne,P as xe,W as Ve,a as ze,H,b as Q,c as G}from"./@vicons-fc06a0bb.js";/* empty css               */import"./seemly-76b7b838.js";import"./vueuc-804c4158.js";import"./evtd-b614532e.js";import"./@css-render-66126308.js";import"./vooks-dfdd6eef.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-6a5c5852.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-8412e618.js";import"./treemate-25c27bff.js";import"./async-validator-dee29e8b.js";import"./date-fns-975a2d8f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))_(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&_(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function _(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();const Be="modulepreload",We=function(e){return"/"+e},J={},y=function(t,r,_){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(c=>{if(c=We(c),c in J)return;J[c]=!0;const l=c.endsWith(".css"),O=l?'[rel="stylesheet"]':"";if(!!_)for(let m=a.length-1;m>=0;m--){const u=a[m];if(u.href===c&&(!l||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${O}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Be,l||(h.as="script",h.crossOrigin=""),h.href=c,document.head.appendChild(h),l)return new Promise((m,u)=>{h.addEventListener("load",m),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t())},Fe=[{path:"/",name:"home",meta:{title:"广场",keepAlive:!0},component:()=>y(()=>import("./Home-2711a6f5.js"),["assets/Home-2711a6f5.js","assets/post-item.vue_vue_type_style_index_0_lang-acc2d681.js","assets/content-83d95999.js","assets/@vue-f70ab1bd.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/nonesir-video-29a967e9.js","assets/content-cc55174b.css","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/post-item-3a63e077.css","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/lodash-3329902d.js","assets/copy-to-clipboard-ca358197.js","assets/toggle-selection-93f4ad84.js","assets/IEnum-ea67d3af.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Home-a7297c0f.css","assets/vfonts-7afd136d.css"])},{path:"/post",name:"post",meta:{title:"话题详情"},component:()=>y(()=>import("./Post-47423dbd.js"),["assets/Post-47423dbd.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/@vue-f70ab1bd.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/vuex-cc1858c6.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/@vicons-fc06a0bb.js","assets/content-83d95999.js","assets/nonesir-video-29a967e9.js","assets/content-cc55174b.css","assets/vue-router-29025daf.js","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/lodash-3329902d.js","assets/copy-to-clipboard-ca358197.js","assets/toggle-selection-93f4ad84.js","assets/IEnum-ea67d3af.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Post-2b9ab2ef.css","assets/vfonts-7afd136d.css"])},{path:"/topic",name:"topic",meta:{title:"话题"},component:()=>y(()=>import("./Topic-0feafd94.js"),["assets/Topic-0feafd94.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/@vue-f70ab1bd.js","assets/vue-router-29025daf.js","assets/vooks-dfdd6eef.js","assets/evtd-b614532e.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/@css-render-66126308.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Topic-3a36c606.css","assets/vfonts-7afd136d.css"])},{path:"/anouncement",name:"anouncement",meta:{title:"公告"},component:()=>y(()=>import("./Anouncement-9d050bb4.js"),["assets/Anouncement-9d050bb4.js","assets/post-skeleton-cd4157b0.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/@vue-f70ab1bd.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/@vicons-fc06a0bb.js","assets/main-nav-3ef9bae6.css","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/axios-707ed124.js","assets/Anouncement-662e2d95.css","assets/vfonts-7afd136d.css"])},{path:"/profile",name:"profile",meta:{title:"主页"},component:()=>y(()=>import("./Profile-d3bf70dd.js"),["assets/Profile-d3bf70dd.js","assets/post-item.vue_vue_type_style_index_0_lang-acc2d681.js","assets/content-83d95999.js","assets/@vue-f70ab1bd.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/nonesir-video-29a967e9.js","assets/content-cc55174b.css","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/post-item-3a63e077.css","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Profile-5d71a5c2.css","assets/vfonts-7afd136d.css"])},{path:"/user",name:"user",meta:{title:"用户详情"},component:()=>y(()=>import("./User-5ee5a0bb.js"),["assets/User-5ee5a0bb.js","assets/post-item.vue_vue_type_style_index_0_lang-acc2d681.js","assets/content-83d95999.js","assets/@vue-f70ab1bd.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/nonesir-video-29a967e9.js","assets/content-cc55174b.css","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/post-item-3a63e077.css","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/User-4f525d0f.css","assets/vfonts-7afd136d.css"])},{path:"/messages",name:"messages",meta:{title:"消息"},component:()=>y(()=>import("./Messages-ce25aeb0.js"),["assets/Messages-ce25aeb0.js","assets/@vue-f70ab1bd.js","assets/vue-router-29025daf.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Messages-7ed31ecd.css","assets/vfonts-7afd136d.css"])},{path:"/collection",name:"collection",meta:{title:"收藏"},component:()=>y(()=>import("./Collection-3068e5fb.js"),["assets/Collection-3068e5fb.js","assets/post-item.vue_vue_type_style_index_0_lang-acc2d681.js","assets/content-83d95999.js","assets/@vue-f70ab1bd.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/nonesir-video-29a967e9.js","assets/content-cc55174b.css","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/post-item-3a63e077.css","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Collection-e1365ea0.css","assets/vfonts-7afd136d.css"])},{path:"/contacts",name:"contacts",meta:{title:"好友"},component:()=>y(()=>import("./Contacts-776dd407.js"),["assets/Contacts-776dd407.js","assets/vue-router-29025daf.js","assets/@vue-f70ab1bd.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/post-skeleton-cd4157b0.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/@vicons-fc06a0bb.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Contacts-b60e5e0d.css","assets/vfonts-7afd136d.css"])},{path:"/wallet",name:"wallet",meta:{title:"钱包"},component:()=>y(()=>import("./Wallet-070e7248.js"),["assets/Wallet-070e7248.js","assets/post-skeleton-cd4157b0.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/@vue-f70ab1bd.js","assets/vueuc-804c4158.js","assets/evtd-b614532e.js","assets/@css-render-66126308.js","assets/vooks-dfdd6eef.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/vue-router-29025daf.js","assets/@vicons-fc06a0bb.js","assets/main-nav-3ef9bae6.css","assets/qrcode-23069ad7.js","assets/encode-utf8-f813de00.js","assets/dijkstrajs-59d11638.js","assets/formatTime-936c40eb.js","assets/moment-b7869f98.js","assets/axios-707ed124.js","assets/Wallet-77044929.css","assets/vfonts-7afd136d.css"])},{path:"/setting",name:"setting",meta:{title:"设置"},component:()=>y(()=>import("./Setting-838f34d9.js"),["assets/Setting-838f34d9.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/@vue-f70ab1bd.js","assets/vue-router-29025daf.js","assets/vooks-dfdd6eef.js","assets/evtd-b614532e.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/@css-render-66126308.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/Setting-bfd24152.css","assets/vfonts-7afd136d.css"])},{path:"/404",name:"404",meta:{title:"404"},component:()=>y(()=>import("./404-276a5779.js"),["assets/404-276a5779.js","assets/main-nav.vue_vue_type_style_index_0_lang-455f4f57.js","assets/vuex-cc1858c6.js","assets/@vue-f70ab1bd.js","assets/vue-router-29025daf.js","assets/vooks-dfdd6eef.js","assets/evtd-b614532e.js","assets/@vicons-fc06a0bb.js","assets/naive-ui-9980ffcb.js","assets/seemly-76b7b838.js","assets/vueuc-804c4158.js","assets/@css-render-66126308.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav-3ef9bae6.css","assets/axios-707ed124.js","assets/404-020b2afd.css","assets/vfonts-7afd136d.css"])},{path:"/:pathMatch(.*)",redirect:"/404"}],re=pe({history:_e(),routes:Fe});re.beforeEach((e,t,r)=>{document.title=`${e.meta.title} | 泡泡 - 一个清新文艺的微社区`,r()});const je=ge({state:{refresh:Date.now(),theme:localStorage.getItem("PAOPAO_THEME"),collapsedLeft:document.body.clientWidth<=821,collapsedRight:document.body.clientWidth<=821,drawerModelShow:document.body.clientWidth<=821,desktopModelShow:document.body.clientWidth>821,authModalShow:!1,authModelTab:"signin",userInfo:{id:0,username:"",nickname:""}},mutations:{refresh(e,t){e.refresh=t||Date.now()},triggerTheme(e,t){e.theme=t},triggerAuth(e,t){e.authModalShow=t},triggerAuthKey(e,t){e.authModelTab=t},triggerCollapsedLeft(e,t){e.collapsedLeft=t,e.drawerModelShow=t,e.desktopModelShow=!t},triggerCollapsedRight(e,t){e.collapsedRight=t},updateUserinfo(e,t){e.userInfo=t},userLogout(e){localStorage.removeItem("PAOPAO_TOKEN"),e.userInfo={id:0,nickname:"",username:""}}},actions:{},modules:{}}),B=fe.create({baseURL:"",timeout:3e4});B.interceptors.request.use(e=>(localStorage.getItem("PAOPAO_TOKEN")&&(e.headers.Authorization="Bearer "+localStorage.getItem("PAOPAO_TOKEN")),e),e=>Promise.reject(e));B.interceptors.response.use(e=>{const{data:t={},code:r=0}=(e==null?void 0:e.data)||{};if(+r==0)return t||{};Promise.reject((e==null?void 0:e.data)||{})},(e={})=>{var r;const{response:t={}}=e||{};return+(t==null?void 0:t.status)==401?(localStorage.removeItem("PAOPAO_TOKEN"),(t==null?void 0:t.data.code)!==10005?window.$message.warning((t==null?void 0:t.data.msg)||"鉴权失败"):window.$store.commit("triggerAuth",!0)):window.$message.error(((r=t==null?void 0:t.data)==null?void 0:r.msg)||"请求失败"),Promise.reject((t==null?void 0:t.data)||{})});function s(e){return B(e)}const Y=e=>s({method:"post",url:"/v1/auth/login",data:e}),He=e=>s({method:"post",url:"/v1/auth/register",data:e}),V=(e="")=>s({method:"get",url:"/v1/user/info",headers:{Authorization:`Bearer ${e}`}}),Qe={class:"auth-wrap"},Ge=N({__name:"auth",setup(e){const t=x(),r=A(!1),_=A(),a=W({username:"",password:""}),c=A(),l=W({username:"",password:"",repassword:""}),O={username:{required:!0,message:"请输入账户名"},password:{required:!0,message:"请输入密码"},repassword:[{required:!0,message:"请输入密码"},{validator:(m,u)=>!!l.password&&l.password.startsWith(u)&&l.password.length>=u.length,message:"两次密码输入不一致",trigger:"input"}]},P=m=>{var u;m.preventDefault(),m.stopPropagation(),(u=_.value)==null||u.validate(f=>{f||(r.value=!0,Y({username:a.username,password:a.password}).then(d=>{const o=(d==null?void 0:d.token)||"";return localStorage.setItem("PAOPAO_TOKEN",o),V(o)}).then(d=>{window.$message.success("登录成功"),r.value=!1,t.commit("updateUserinfo",d),t.commit("triggerAuth",!1),a.username="",a.password=""}).catch(d=>{r.value=!1}))})},h=m=>{var u;m.preventDefault(),m.stopPropagation(),(u=c.value)==null||u.validate(f=>{f||(r.value=!0,He({username:l.username,password:l.password}).then(d=>Y({username:l.username,password:l.password})).then(d=>{const o=(d==null?void 0:d.token)||"";return localStorage.setItem("PAOPAO_TOKEN",o),V(o)}).then(d=>{window.$message.success("注册成功"),r.value=!1,t.commit("updateUserinfo",d),t.commit("triggerAuth",!1),l.username="",l.password="",l.repassword=""}).catch(d=>{r.value=!1}))})};return z(()=>{const m=localStorage.getItem("PAOPAO_TOKEN")||"";m?V(m).then(u=>{t.commit("updateUserinfo",u),t.commit("triggerAuth",!1)}).catch(u=>{t.commit("userLogout")}):t.commit("userLogout")}),(m,u)=>{const f=oe,d=ve,o=we,b=se,I=ye,C=ke,S=ne,L=be;return k(),T(L,{show:p(t).state.authModalShow,"onUpdate:show":u[5]||(u[5]=v=>p(t).state.authModalShow=v),class:"auth-card",preset:"card",size:"small","mask-closable":!1,bordered:!1,style:{width:"360px"}},{default:i(()=>[g("div",Qe,[n(S,{bordered:!1},{default:i(()=>[n(C,{"default-value":p(t).state.authModelTab,size:"large","justify-content":"space-evenly"},{default:i(()=>[n(I,{name:"signin",tab:"登录"},{default:i(()=>[n(o,{ref_key:"loginRef",ref:_,model:a,rules:{username:{required:!0,message:"请输入账户名"},password:{required:!0,message:"请输入密码"}}},{default:i(()=>[n(d,{label:"账户",path:"username"},{default:i(()=>[n(f,{value:a.username,"onUpdate:value":u[0]||(u[0]=v=>a.username=v),placeholder:"请输入用户名",onKeyup:M(U(P,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1}),n(d,{label:"密码",path:"password"},{default:i(()=>[n(f,{type:"password","show-password-on":"mousedown",value:a.password,"onUpdate:value":u[1]||(u[1]=v=>a.password=v),placeholder:"请输入账户密码",onKeyup:M(U(P,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["model"]),n(b,{type:"primary",block:"",secondary:"",strong:"",loading:r.value,onClick:P},{default:i(()=>[q(" 登录 ")]),_:1},8,["loading"])]),_:1}),n(I,{name:"signup",tab:"注册"},{default:i(()=>[n(o,{ref_key:"registerRef",ref:c,model:l,rules:O},{default:i(()=>[n(d,{label:"用户名",path:"username"},{default:i(()=>[n(f,{value:l.username,"onUpdate:value":u[2]||(u[2]=v=>l.username=v),placeholder:"用户名注册后无法修改"},null,8,["value"])]),_:1}),n(d,{label:"密码",path:"password"},{default:i(()=>[n(f,{type:"password","show-password-on":"mousedown",placeholder:"密码不少于6位",value:l.password,"onUpdate:value":u[3]||(u[3]=v=>l.password=v),onKeyup:M(U(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1}),n(d,{label:"重复密码",path:"repassword"},{default:i(()=>[n(f,{type:"password","show-password-on":"mousedown",placeholder:"请再次输入密码",value:l.repassword,"onUpdate:value":u[4]||(u[4]=v=>l.repassword=v),onKeyup:M(U(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["model"]),n(b,{type:"primary",block:"",secondary:"",strong:"",loading:r.value,onClick:h},{default:i(()=>[q(" 注册 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["default-value"])]),_:1})])]),_:1},8,["show"])}}});const ae=(e,t)=>{const r=e.__vccOpts||e;for(const[_,a]of t)r[_]=a;return r},Je=ae(Ge,[["__scopeId","data-v-ead596c6"]]),zt=e=>s({method:"get",url:"/v1/posts",params:e}),Ye=e=>s({method:"get",url:"/v1/tags",params:e}),Bt=e=>s({method:"get",url:"/v1/post",params:e}),Wt=e=>s({method:"get",url:"/v1/post/star",params:e}),Ft=e=>s({method:"post",url:"/v1/post/star",data:e}),jt=e=>s({method:"get",url:"/v1/post/collection",params:e}),Ht=e=>s({method:"post",url:"/v1/post/collection",data:e}),Qt=e=>s({method:"get",url:"/v1/post/comments",params:e}),Gt=e=>s({method:"get",url:"/v1/user/contacts",params:e}),Jt=e=>s({method:"post",url:"/v1/post",data:e}),Yt=e=>s({method:"delete",url:"/v1/post",data:e}),Zt=e=>s({method:"post",url:"/v1/post/lock",data:e}),Xt=e=>s({method:"post",url:"/v1/post/stick",data:e}),eo=e=>s({method:"post",url:"/v1/post/visibility",data:e}),to=e=>s({method:"post",url:"/v1/post/comment",data:e}),oo=e=>s({method:"delete",url:"/v1/post/comment",data:e}),so=e=>s({method:"post",url:"/v1/post/comment/reply",data:e}),no=e=>s({method:"delete",url:"/v1/post/comment/reply",data:e}),Ze={key:0,class:"rightbar-wrap"},Xe={class:"search-wrap"},et={class:"post-num"},tt={class:"copyright"},ot=["href"],st=["href"],nt=N({__name:"rightbar",setup(e){const t=A([]),r=A(!1),_=A(""),a=x(),c=te(),l="2023 paopao.info",O="Roc's Me",P="",h="泡泡(PaoPao)开源社区",m="https://www.paopao.info",u=()=>{r.value=!0,Ye({type:"hot",num:12}).then(o=>{t.value=o.topics,r.value=!1}).catch(o=>{r.value=!1})},f=o=>o>=1e3?(o/1e3).toFixed(1)+"k":o,d=()=>{c.push({name:"home",query:{q:_.value}})};return z(()=>{u()}),(o,b)=>{const I=K,C=oe,S=X("router-link"),L=Pe,v=ne,le=Oe;return p(a).state.collapsedRight?D("",!0):(k(),R("div",Ze,[g("div",Xe,[n(C,{round:"",clearable:"",placeholder:"搜一搜...",value:_.value,"onUpdate:value":b[0]||(b[0]=$=>_.value=$),onKeyup:M(U(d,["prevent"]),["enter"])},{prefix:i(()=>[n(I,{component:p(Ue)},null,8,["component"])]),_:1},8,["value","onKeyup"])]),n(v,{class:"hottopic-wrap",title:"热门话题",embedded:"",bordered:!1,size:"small"},{default:i(()=>[n(L,{show:r.value},{default:i(()=>[(k(!0),R(ue,null,ce(t.value,$=>(k(),R("div",{class:"hot-tag-item",key:$.id},[n(S,{class:"hash-link",to:{name:"home",query:{q:$.tag,t:"tag"}}},{default:i(()=>[q(" #"+E($.tag),1)]),_:2},1032,["to"]),g("div",et,E(f($.quote_num)),1)]))),128))]),_:1},8,["show"])]),_:1}),n(v,{class:"copyright-wrap",embedded:"",bordered:!1,size:"small"},{default:i(()=>[g("div",tt,"© "+E(p(l)),1),g("div",null,[n(le,null,{default:i(()=>[g("a",{href:p(P),target:"_blank",class:"hash-link"},E(p(O)),9,ot),g("a",{href:p(m),target:"_blank",class:"hash-link"},E(p(h)),9,st)]),_:1})])]),_:1})]))}}});const rt=ae(nt,[["__scopeId","data-v-9c65d923"]]),ro=(e={})=>s({method:"get",url:"/v1/captcha",params:e}),ao=e=>s({method:"post",url:"/v1/captcha",data:e}),lo=e=>s({method:"post",url:"/v1/user/whisper",data:e}),uo=e=>s({method:"post",url:"/v1/friend/requesting",data:e}),co=e=>s({method:"post",url:"/v1/friend/add",data:e}),io=e=>s({method:"post",url:"/v1/friend/reject",data:e}),mo=e=>s({method:"post",url:"/v1/friend/delete",data:e}),po=e=>s({method:"post",url:"/v1/user/phone",data:e}),_o=e=>s({method:"post",url:"/v1/user/activate",data:e}),ho=e=>s({method:"post",url:"/v1/user/password",data:e}),go=e=>s({method:"post",url:"/v1/user/nickname",data:e}),fo=e=>s({method:"post",url:"/v1/user/avatar",data:e}),Z=(e={})=>s({method:"get",url:"/v1/user/msgcount/unread",params:e}),vo=e=>s({method:"get",url:"/v1/user/messages",params:e}),wo=e=>s({method:"post",url:"/v1/user/message/read",data:e}),yo=e=>s({method:"get",url:"/v1/user/collections",params:e}),ko=e=>s({method:"get",url:"/v1/user/profile",params:e}),bo=e=>s({method:"get",url:"/v1/user/posts",params:e}),Po=e=>s({method:"get",url:"/v1/user/wallet/bills",params:e}),Oo=e=>s({method:"post",url:"/v1/user/recharge",data:e}),Ao=e=>s({method:"get",url:"/v1/user/recharge",params:e}),Lo=e=>s({method:"get",url:"/v1/suggest/users",params:e}),Eo=e=>s({method:"get",url:"/v1/suggest/tags",params:e}),Ro=e=>s({method:"get",url:"/v1/attachment/precheck",params:e}),Io=e=>s({method:"get",url:"/v1/attachment",params:e}),$o=e=>s({method:"post",url:"/v1/admin/user/status",data:e}),at="/assets/logo-52afee68.png",lt={class:"sidebar-wrap"},ut={class:"logo-wrap"},ct={key:0,class:"user-wrap"},it={class:"user-info"},dt={class:"nickname"},mt={class:"nickname-txt"},pt={class:"username"},_t={class:"user-mini-wrap"},ht={key:1,class:"user-wrap"},gt={class:"login-wrap"},ft=N({__name:"sidebar",setup(e){const t=x(),r=he(),_=te(),a=A(!1),c=A(r.name||""),l=A();F(r,()=>{c.value=r.name}),F(t.state,()=>{t.state.userInfo.id>0?l.value||(Z().then(o=>{a.value=o.count>0}).catch(o=>{console.log(o)}),l.value=setInterval(()=>{Z().then(o=>{a.value=o.count>0}).catch(o=>{console.log(o)})},5e3)):l.value&&clearInterval(l.value)}),z(()=>{window.onresize=()=>{t.commit("triggerCollapsedLeft",document.body.clientWidth<=821),t.commit("triggerCollapsedRight",document.body.clientWidth<=821)}});const O=ee(()=>{const o=[{label:"广场",key:"home",icon:()=>w(H),href:"/"},{label:"话题",key:"topic",icon:()=>w(Q),href:"/topic"}];return"false".toLowerCase()==="true"&&o.push({label:"公告",key:"anouncement",icon:()=>w(Ke),href:"/anouncement"}),o.push({label:"主页",key:"profile",icon:()=>w(qe),href:"/profile"}),o.push({label:"消息",key:"messages",icon:()=>w(De),href:"/messages"}),o.push({label:"收藏",key:"collection",icon:()=>w(Ne),href:"/collection"}),o.push({label:"好友",key:"contacts",icon:()=>w(xe),href:"/contacts"}),"false".toLocaleLowerCase()==="true"&&o.push({label:"钱包",key:"wallet",icon:()=>w(Ve),href:"/wallet"}),o.push({label:"设置",key:"setting",icon:()=>w(ze),href:"/setting"}),t.state.userInfo.id>0?o:[{label:"广场",key:"home",icon:()=>w(H),href:"/"},{label:"话题",key:"topic",icon:()=>w(Q),href:"/topic"}]}),P=o=>"href"in o?w("div",{},o.label):o.label,h=o=>o.key==="messages"?w(Le,{dot:!0,show:a.value,processing:!0},{default:()=>w(K,{color:o.key===c.value?"var(--n-item-icon-color-active)":"var(--n-item-icon-color)"},{default:o.icon})}):w(K,null,{default:o.icon}),m=(o,b={})=>{c.value=o,_.push({name:o})},u=()=>{r.path==="/"&&t.commit("refresh"),m("home")},f=o=>{t.commit("triggerAuth",!0),t.commit("triggerAuthKey",o)},d=()=>{t.commit("userLogout")};return window.$store=t,window.$message=Ae(),(o,b)=>{const I=Ee,C=Re,S=Ie,L=se;return k(),R("div",lt,[g("div",ut,[n(I,{class:"logo-img",width:"36",src:p(at),"preview-disabled":!0,onClick:u},null,8,["src"])]),n(C,{accordion:!0,"icon-size":24,options:p(O),"render-label":P,"render-icon":h,value:c.value,"onUpdate:value":m},null,8,["options","value"]),p(t).state.userInfo.id>0?(k(),R("div",ct,[n(S,{class:"user-avatar",round:"",size:34,src:p(t).state.userInfo.avatar},null,8,["src"]),g("div",it,[g("div",dt,[g("span",mt,E(p(t).state.userInfo.nickname),1),n(L,{class:"logout",quaternary:"",circle:"",size:"tiny",onClick:d},{icon:i(()=>[n(p(K),null,{default:i(()=>[n(p(G))]),_:1})]),_:1})]),g("div",pt,"@"+E(p(t).state.userInfo.username),1)]),g("div",_t,[n(L,{class:"logout",quaternary:"",circle:"",onClick:d},{icon:i(()=>[n(p(K),{size:24},{default:i(()=>[n(p(G))]),_:1})]),_:1})])])):(k(),R("div",ht,[g("div",gt,[n(L,{strong:"",secondary:"",round:"",type:"primary",onClick:b[0]||(b[0]=v=>f("signin"))},{default:i(()=>[q(" 登录 ")]),_:1}),n(L,{strong:"",secondary:"",round:"",type:"info",onClick:b[1]||(b[1]=v=>f("signup"))},{default:i(()=>[q(" 注册 ")]),_:1})])]))])}}});const vt={"has-sider":"",class:"main-wrap",position:"static"},wt={key:0},yt={class:"content-wrap"},kt=N({__name:"App",setup(e){const t=x(),r=ee(()=>t.state.theme==="dark"?Ce:null);return(_,a)=>{const c=ft,l=X("router-view"),O=rt,P=Je,h=Se,m=Te,u=Me,f=$e;return k(),T(f,{theme:p(r)},{default:i(()=>[n(m,null,{default:i(()=>[n(h,null,{default:i(()=>{var d;return[g("div",{class:de(["app-container",{dark:((d=p(r))==null?void 0:d.name)==="dark"}])},[g("div",vt,[p(t).state.desktopModelShow?(k(),R("div",wt,[n(c)])):D("",!0),g("div",yt,[n(l,{class:"app-wrap"},{default:i(({Component:o})=>[(k(),T(ie,null,[_.$route.meta.keepAlive?(k(),T(j(o),{key:0})):D("",!0)],1024)),_.$route.meta.keepAlive?D("",!0):(k(),T(j(o),{key:0}))]),_:1})]),n(O)]),n(P)],2)]}),_:1})]),_:1}),n(u)]),_:1},8,["theme"])}}});me(kt).use(re).use(je).mount("#app");export{io as A,wo as B,vo as C,yo as D,Ro as E,Io as F,Gt as G,V as H,Po as I,Oo as J,Ao as K,ro as L,fo as M,ho as N,po as O,_o as P,go as Q,ao as R,ft as S,ae as _,Eo as a,zt as b,Jt as c,so as d,no as e,oo as f,Lo as g,to as h,Wt as i,jt as j,Yt as k,Zt as l,Ht as m,Bt as n,Qt as o,Ft as p,Ye as q,bo as r,Xt as s,lo as t,uo as u,eo as v,ko as w,mo as x,$o as y,co as z};
