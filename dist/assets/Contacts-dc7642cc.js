import{d as b,ak as R,W as e,Y as a,Z as o,a4 as s,aa as v,ae as S,al as C,r as l,a2 as U,bF as V,a5 as h,a3 as q,a7 as y,ab as k,ai as D,ac as F,$ as M,a6 as T}from"./index-c4000003.js";import{_ as E}from"./post-skeleton-78bf9d75.js";import{_ as L}from"./main-nav.vue_vue_type_style_index_0_lang-8c0c0f3d.js";import{_ as W}from"./List-a31806ab.js";import{_ as Y}from"./Pagination-9b82781b.js";import{a as Z,_ as j}from"./Skeleton-d48bb266.js";const A={class:"avatar"},G={class:"base-info"},H={class:"username"},J={class:"uid"},K=b({__name:"contact-item",props:{contact:null},setup(c){const p=R(),m=t=>{p.push({name:"user",query:{username:t}})};return(t,n)=>{const _=S;return e(),a("div",{class:"contact-item",onClick:n[0]||(n[0]=u=>m(c.contact.username))},[o("div",A,[s(_,{size:"large",src:c.contact.avatar},null,8,["src"])]),o("div",G,[o("div",H,[o("strong",null,v(c.contact.nickname),1),o("span",null," @"+v(c.contact.username),1)]),o("div",J,"UID. "+v(c.contact.user_id),1)])])}}});const O=C(K,[["__scopeId","data-v-08ee9b2e"]]),Q={key:0,class:"skeleton-wrap"},X={key:1},ee={key:0,class:"empty-wrap"},te={key:0,class:"pagination-wrap"},ne=b({__name:"Contacts",setup(c){const p=M(),m=D(),t=l(!1),n=l([]),_=l(+m.query.p||1),u=l(20),d=l(0),$=i=>{_.value=i,g()};U(()=>{g()});const g=(i=!1)=>{n.value.length===0&&(t.value=!0),V({page:_.value,page_size:u.value}).then(r=>{t.value=!1,n.value=r.list,d.value=Math.ceil(r.pager.total_rows/u.value),i&&setTimeout(()=>{window.scrollTo(0,99999)},50)}).catch(r=>{t.value=!1})};return(i,r)=>{const w=L,x=E,z=Z,B=O,I=j,N=W,P=Y;return e(),a(k,null,[o("div",null,[s(w,{title:"好友"}),s(N,{class:"main-content-wrap",bordered:""},{default:h(()=>[t.value?(e(),a("div",Q,[s(x,{num:u.value},null,8,["num"])])):(e(),a("div",X,[n.value.length===0?(e(),a("div",ee,[s(z,{size:"large",description:"暂无数据"})])):y("",!0),(e(!0),a(k,null,F(n.value,f=>(e(),T(I,{key:f.user_id},{default:h(()=>[s(B,{contact:f},null,8,["contact"])]),_:2},1024))),128))]))]),_:1})]),d.value>0?(e(),a("div",te,[s(P,{page:_.value,"onUpdate:page":$,"page-slot":q(p).state.collapsedRight?5:8,"page-count":d.value},null,8,["page","page-slot","page-count"])])):y("",!0)],64)}}});const ue=C(ne,[["__scopeId","data-v-3b2bf978"]]);export{ue as default};
