import{_ as N}from"./post-item.vue_vue_type_style_index_0_lang-243e327f.js";import{_ as R}from"./post-skeleton-357fcaec.js";import{_ as U}from"./main-nav.vue_vue_type_style_index_0_lang-e781f688.js";import{d as V,r as l,a2 as D,Y as o,a4 as e,a3 as _,a6 as h,a5 as m,a7 as d,ai as M,b4 as q,W as t,Z as s,aa as f,ab as E,ac as F,$ as L,ae as T,aR as W,aS as Y,al as Z}from"./index-cae59503.js";import{_ as j}from"./List-8db739b6.js";import{_ as A}from"./Pagination-4225ac31.js";import{a as G,_ as H}from"./Skeleton-35da1289.js";import"./content-c56fd6ac.js";import"./formatTime-0c777b4d.js";import"./Thing-5bd55d3f.js";const J={class:"profile-baseinfo"},K={class:"avatar"},O={class:"base-info"},Q={class:"username"},X={class:"uid"},ee={key:0,class:"skeleton-wrap"},te={key:1},ae={key:0,class:"empty-wrap"},se={key:1,class:"pagination-wrap"},ne=V({__name:"Profile",setup(oe){const a=L(),k=M(),c=l(!1),r=l([]),i=l(+k.query.p||1),p=l(20),u=l(0),g=()=>{c.value=!0,q({username:a.state.userInfo.username,page:i.value,page_size:p.value}).then(n=>{c.value=!1,r.value=n.list,u.value=Math.ceil(n.pager.total_rows/p.value),window.scrollTo(0,0)}).catch(n=>{c.value=!1})},y=n=>{i.value=n,g()};return D(()=>{g()}),(n,_e)=>{const w=U,b=T,I=W,P=Y,x=R,z=G,B=N,S=H,$=j,C=A;return t(),o("div",null,[e(w,{title:"主页"}),_(a).state.userInfo.id>0?(t(),h($,{key:0,class:"main-content-wrap profile-wrap",bordered:""},{default:m(()=>[s("div",J,[s("div",K,[e(b,{size:"large",src:_(a).state.userInfo.avatar},null,8,["src"])]),s("div",O,[s("div",Q,[s("strong",null,f(_(a).state.userInfo.nickname),1),s("span",null," @"+f(_(a).state.userInfo.username),1)]),s("div",X,"UID. "+f(_(a).state.userInfo.id),1)])]),e(P,{class:"profile-tabs-wrap",animated:""},{default:m(()=>[e(I,{name:"post",tab:"泡泡"})]),_:1}),c.value?(t(),o("div",ee,[e(x,{num:p.value},null,8,["num"])])):(t(),o("div",te,[r.value.length===0?(t(),o("div",ae,[e(z,{size:"large",description:"暂无数据"})])):d("",!0),(t(!0),o(E,null,F(r.value,v=>(t(),h(S,{key:v.id},{default:m(()=>[e(B,{post:v},null,8,["post"])]),_:2},1024))),128))]))]),_:1})):d("",!0),u.value>0?(t(),o("div",se,[e(C,{page:i.value,"onUpdate:page":y,"page-slot":_(a).state.collapsedRight?5:8,"page-count":u.value},null,8,["page","page-slot","page-count"])])):d("",!0)])}}});const ve=Z(ne,[["__scopeId","data-v-1d87d974"]]);export{ve as default};
