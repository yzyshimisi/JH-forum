import{d as W,H as P,R as te,b as Q,e as w,q as N,w as r,j as y,k as s,f as A,A as q,Z as K,y as D,Y as S,bf as f,c as Y,E as G,r as de,F as oe,u as se,x as C,h as k,a5 as ye,s as ne,l as be,ag as ke}from"./@vue-a481fc63.js";import{c as Pe,a as Le,u as pe,b as Oe}from"./vue-router-e5a2430e.js";import{c as Ae,u as B}from"./vuex-44de225f.js";import{a as Te}from"./axios-4a70c6fc.js";import{_ as Ee,N as Ie,a as me,b as _e,c as Re,d as $e,e as he,f as Ce,g as Se,h as ge,i as Ue,j as V,k as Me,u as qe,l as Ke,m as De,n as Ne,o as xe,p as Fe,q as Ve,r as ze,s as We,t as Be}from"./naive-ui-d8de3dda.js";import{S as He,M as je,L as Ge,C as Qe,B as Ye,P as Ze,W as Je,a as Xe,H as re,b as ae,c as le}from"./@vicons-7a4ef312.js";/* empty css               */import"./seemly-76b7b838.js";import"./vueuc-39372edb.js";import"./evtd-b614532e.js";import"./@css-render-7124a1a5.js";import"./vooks-6d99783e.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-6a5c5852.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-8412e618.js";import"./treemate-25c27bff.js";import"./async-validator-dee29e8b.js";import"./date-fns-975a2d8f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();const et="modulepreload",tt=function(e){return"/"+e},ue={},O=function(t,a,d){if(!a||a.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=tt(n),n in ue)return;ue[n]=!0;const m=n.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(!!d)for(let b=i.length-1;b>=0;b--){const v=i[b];if(v.href===n&&(!m||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${p}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":et,m||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),m)return new Promise((b,v)=>{h.addEventListener("load",b),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=n,window.dispatchEvent(m),!m.defaultPrevented)throw n})},ot=[{path:"/",name:"home",meta:{title:"广场",keepAlive:!0},component:()=>O(()=>import("./Home-3b67ef21.js"),["assets/Home-3b67ef21.js","assets/whisper-ccc06a56.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-61451957.css","assets/post-item.vue_vue_type_style_index_0_lang-8624318f.js","assets/content-e5b2b63d.js","assets/@vicons-7a4ef312.js","assets/paopao-video-player-2fe58954.js","assets/content-2fda112b.css","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/copy-to-clipboard-4ef7d3eb.js","assets/@babel-725317a4.js","assets/toggle-selection-93f4ad84.js","assets/post-item-d81938d1.css","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/lodash-e0b37ac3.js","assets/IEnum-5453a777.js","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/v3-infinite-loading-2c58ec2f.js","assets/v3-infinite-loading-1ff9ffe7.css","assets/@opentiny-d73a2d67.js","assets/vue-1e3b54ec.js","assets/xss-a5544f63.js","assets/cssfilter-af71ba68.js","assets/@opentiny-0f942bd4.css","assets/axios-4a70c6fc.js","assets/Home-af58e3ca.css","assets/vfonts-7afd136d.css"])},{path:"/post",name:"post",meta:{title:"泡泡详情"},component:()=>O(()=>import("./Post-41702890.js"),["assets/Post-41702890.js","assets/@vue-a481fc63.js","assets/vuex-44de225f.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/IEnum-5453a777.js","assets/@vicons-7a4ef312.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/content-e5b2b63d.js","assets/paopao-video-player-2fe58954.js","assets/content-2fda112b.css","assets/vue-router-e5a2430e.js","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/lodash-e0b37ac3.js","assets/@babel-725317a4.js","assets/whisper-ccc06a56.js","assets/whisper-61451957.css","assets/copy-to-clipboard-4ef7d3eb.js","assets/toggle-selection-93f4ad84.js","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/v3-infinite-loading-2c58ec2f.js","assets/v3-infinite-loading-1ff9ffe7.css","assets/axios-4a70c6fc.js","assets/Post-1ac7281c.css","assets/vfonts-7afd136d.css"])},{path:"/topic",name:"topic",meta:{title:"话题"},component:()=>O(()=>import("./Topic-c760f051.js"),["assets/Topic-c760f051.js","assets/@vicons-7a4ef312.js","assets/@vue-a481fc63.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Topic-384e019e.css","assets/vfonts-7afd136d.css"])},{path:"/anouncement",name:"anouncement",meta:{title:"公告"},component:()=>O(()=>import("./Anouncement-6ac7dc85.js"),["assets/Anouncement-6ac7dc85.js","assets/post-skeleton-63a82733.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/@vicons-7a4ef312.js","assets/main-nav-569a7b0c.css","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/axios-4a70c6fc.js","assets/Anouncement-662e2d95.css","assets/vfonts-7afd136d.css"])},{path:"/profile",name:"profile",meta:{title:"主页"},component:()=>O(()=>import("./Profile-3522866b.js"),["assets/Profile-3522866b.js","assets/whisper-ccc06a56.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-61451957.css","assets/post-item.vue_vue_type_style_index_0_lang-8624318f.js","assets/content-e5b2b63d.js","assets/@vicons-7a4ef312.js","assets/paopao-video-player-2fe58954.js","assets/content-2fda112b.css","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/copy-to-clipboard-4ef7d3eb.js","assets/@babel-725317a4.js","assets/toggle-selection-93f4ad84.js","assets/post-item-d81938d1.css","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/v3-infinite-loading-2c58ec2f.js","assets/v3-infinite-loading-1ff9ffe7.css","assets/axios-4a70c6fc.js","assets/Profile-3ffb7be9.css","assets/vfonts-7afd136d.css"])},{path:"/u",name:"user",meta:{title:"用户详情"},component:()=>O(()=>import("./User-3c76988c.js"),["assets/User-3c76988c.js","assets/post-item.vue_vue_type_style_index_0_lang-8624318f.js","assets/content-e5b2b63d.js","assets/@vue-a481fc63.js","assets/@vicons-7a4ef312.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/paopao-video-player-2fe58954.js","assets/content-2fda112b.css","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/copy-to-clipboard-4ef7d3eb.js","assets/@babel-725317a4.js","assets/toggle-selection-93f4ad84.js","assets/post-item-d81938d1.css","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/whisper-ccc06a56.js","assets/whisper-61451957.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/v3-infinite-loading-2c58ec2f.js","assets/v3-infinite-loading-1ff9ffe7.css","assets/axios-4a70c6fc.js","assets/User-b21ba7c9.css","assets/vfonts-7afd136d.css"])},{path:"/messages",name:"messages",meta:{title:"消息"},component:()=>O(()=>import("./Messages-24561ce6.js"),["assets/Messages-24561ce6.js","assets/@vue-a481fc63.js","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/@vicons-7a4ef312.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-ccc06a56.js","assets/whisper-61451957.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Messages-3c6066fb.css","assets/vfonts-7afd136d.css"])},{path:"/collection",name:"collection",meta:{title:"收藏"},component:()=>O(()=>import("./Collection-a1ac46c8.js"),["assets/Collection-a1ac46c8.js","assets/whisper-ccc06a56.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-61451957.css","assets/post-item.vue_vue_type_style_index_0_lang-8624318f.js","assets/content-e5b2b63d.js","assets/@vicons-7a4ef312.js","assets/paopao-video-player-2fe58954.js","assets/content-2fda112b.css","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/copy-to-clipboard-4ef7d3eb.js","assets/@babel-725317a4.js","assets/toggle-selection-93f4ad84.js","assets/post-item-d81938d1.css","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Collection-5c3a44e2.css","assets/vfonts-7afd136d.css"])},{path:"/contacts",name:"contacts",meta:{title:"好友"},component:()=>O(()=>import("./Contacts-735b9a98.js"),["assets/Contacts-735b9a98.js","assets/whisper-ccc06a56.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-61451957.css","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/@vicons-7a4ef312.js","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Contacts-7fa3e0d6.css","assets/vfonts-7afd136d.css"])},{path:"/following",name:"following",meta:{title:"关注"},component:()=>O(()=>import("./Following-83766ae9.js"),["assets/Following-83766ae9.js","assets/whisper-ccc06a56.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/whisper-61451957.css","assets/vue-router-e5a2430e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/@vicons-7a4ef312.js","assets/post-skeleton-63a82733.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Following-6aa7d36c.css","assets/vfonts-7afd136d.css"])},{path:"/wallet",name:"wallet",meta:{title:"钱包"},component:()=>O(()=>import("./Wallet-34a63003.js"),["assets/Wallet-34a63003.js","assets/post-skeleton-63a82733.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/@vue-a481fc63.js","assets/vueuc-39372edb.js","assets/evtd-b614532e.js","assets/@css-render-7124a1a5.js","assets/vooks-6d99783e.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/post-skeleton-f1900002.css","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/vue-router-e5a2430e.js","assets/@vicons-7a4ef312.js","assets/main-nav-569a7b0c.css","assets/qrcode-9719fc56.js","assets/encode-utf8-f813de00.js","assets/dijkstrajs-f906a09e.js","assets/formatTime-4210fcd1.js","assets/moment-2ab8298d.js","assets/axios-4a70c6fc.js","assets/Wallet-77044929.css","assets/vfonts-7afd136d.css"])},{path:"/setting",name:"setting",meta:{title:"设置"},component:()=>O(()=>import("./Setting-3543c8fe.js"),["assets/Setting-3543c8fe.js","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/@vue-a481fc63.js","assets/vue-router-e5a2430e.js","assets/vooks-6d99783e.js","assets/evtd-b614532e.js","assets/@vicons-7a4ef312.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/@css-render-7124a1a5.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/Setting-bfd24152.css","assets/vfonts-7afd136d.css"])},{path:"/404",name:"404",meta:{title:"404"},component:()=>O(()=>import("./404-bd2959cd.js"),["assets/404-bd2959cd.js","assets/main-nav.vue_vue_type_style_index_0_lang-04907baf.js","assets/vuex-44de225f.js","assets/@vue-a481fc63.js","assets/vue-router-e5a2430e.js","assets/vooks-6d99783e.js","assets/evtd-b614532e.js","assets/@vicons-7a4ef312.js","assets/naive-ui-d8de3dda.js","assets/seemly-76b7b838.js","assets/vueuc-39372edb.js","assets/@css-render-7124a1a5.js","assets/vdirs-b0483831.js","assets/@juggle-41516555.js","assets/css-render-6a5c5852.js","assets/@emotion-8a8e73f6.js","assets/lodash-es-8412e618.js","assets/treemate-25c27bff.js","assets/async-validator-dee29e8b.js","assets/date-fns-975a2d8f.js","assets/main-nav-569a7b0c.css","assets/axios-4a70c6fc.js","assets/404-020b2afd.css","assets/vfonts-7afd136d.css"])},{path:"/:pathMatch(.*)",redirect:"/404"}],fe=Pe({history:Le(),routes:ot});fe.beforeEach((e,t,a)=>{document.title=`${e.meta.title} | 泡泡 - 一个清新文艺的微社区`,a()});const st=Ae({state:{refresh:Date.now(),refreshTopicFollow:Date.now(),theme:localStorage.getItem("PAOPAO_THEME"),collapsedLeft:document.body.clientWidth<=821,collapsedRight:document.body.clientWidth<=821,drawerModelShow:document.body.clientWidth<=821,desktopModelShow:document.body.clientWidth>821,authModalShow:!1,authModelTab:"signin",userLogined:!1,userInfo:{id:0,username:"",nickname:"",created_on:0,follows:0,followings:0,is_admin:!1}},mutations:{refresh(e,t){e.refresh=t||Date.now()},refreshTopicFollow(e){e.refreshTopicFollow=Date.now()},triggerTheme(e,t){e.theme=t},triggerAuth(e,t){e.authModalShow=t},triggerAuthKey(e,t){e.authModelTab=t},triggerCollapsedLeft(e,t){e.collapsedLeft=t,e.drawerModelShow=t,e.desktopModelShow=!t},triggerCollapsedRight(e,t){e.collapsedRight=t},updateUserinfo(e,t){e.userInfo=t,e.userInfo.id>0&&(e.userLogined=!0)},userLogout(e){localStorage.removeItem("PAOPAO_TOKEN"),e.userInfo={id:0,nickname:"",username:"",created_on:0,follows:0,followings:0,is_admin:!1},e.userLogined=!1}},actions:{},modules:{}}),Z=Te.create({baseURL:"",timeout:3e4});Z.interceptors.request.use(e=>(localStorage.getItem("PAOPAO_TOKEN")&&(e.headers.Authorization="Bearer "+localStorage.getItem("PAOPAO_TOKEN")),e),e=>Promise.reject(e));Z.interceptors.response.use(e=>{const{data:t={},code:a=0}=(e==null?void 0:e.data)||{};if(+a==0)return t||{};Promise.reject((e==null?void 0:e.data)||{})},(e={})=>{var a;const{response:t={}}=e||{};return+(t==null?void 0:t.status)==401?(localStorage.removeItem("PAOPAO_TOKEN"),(t==null?void 0:t.data.code)!==10005?window.$message.warning((t==null?void 0:t.data.msg)||"鉴权失败"):window.$store.commit("triggerAuth",!0)):window.$message.error(((a=t==null?void 0:t.data)==null?void 0:a.msg)||"请求失败"),Promise.reject((t==null?void 0:t.data)||{})});function o(e){return Z(e)}const ie=e=>o({method:"post",url:"/v1/auth/login",data:e}),nt=e=>o({method:"post",url:"/v1/auth/register",data:e}),j=(e="")=>o({method:"get",url:"/v1/user/info",headers:{Authorization:`Bearer ${e}`}}),rt={class:"auth-wrap"},at={key:0},lt=W({__name:"auth",setup(e){const t=P("true".toLowerCase()==="true"),a=B(),d=P(!1),i=P(),n=te({username:"",password:""}),m=P(),p=te({username:"",password:"",repassword:""}),U={username:{required:!0,message:"请输入账户名"},password:{required:!0,message:"请输入密码"},repassword:[{required:!0,message:"请输入密码"},{validator:(v,u)=>!!p.password&&p.password.startsWith(u)&&p.password.length>=u.length,message:"两次密码输入不一致",trigger:"input"}]},h=v=>{var u;v.preventDefault(),v.stopPropagation(),(u=i.value)==null||u.validate(T=>{T||(d.value=!0,ie({username:n.username,password:n.password}).then(_=>{const E=(_==null?void 0:_.token)||"";return localStorage.setItem("PAOPAO_TOKEN",E),j(E)}).then(_=>{window.$message.success("登录成功"),d.value=!1,a.commit("updateUserinfo",_),a.commit("triggerAuth",!1),a.commit("refresh"),n.username="",n.password=""}).catch(_=>{d.value=!1}))})},b=v=>{var u;v.preventDefault(),v.stopPropagation(),(u=m.value)==null||u.validate(T=>{T||(d.value=!0,nt({username:p.username,password:p.password}).then(_=>ie({username:p.username,password:p.password})).then(_=>{const E=(_==null?void 0:_.token)||"";return localStorage.setItem("PAOPAO_TOKEN",E),j(E)}).then(_=>{window.$message.success("注册成功"),d.value=!1,a.commit("updateUserinfo",_),a.commit("triggerAuth",!1),p.username="",p.password="",p.repassword=""}).catch(_=>{d.value=!1}))})};return Q(()=>{const v=localStorage.getItem("PAOPAO_TOKEN")||"";v?j(v).then(u=>{a.commit("updateUserinfo",u),a.commit("triggerAuth",!1)}).catch(u=>{a.commit("userLogout")}):a.commit("userLogout")}),(v,u)=>{const T=Ee,_=Ie,E=me,I=_e,L=Re,M=$e,l=he,R=Ce,x=Se,F=ge,g=Ue;return w(),N(g,{show:f(a).state.authModalShow,"onUpdate:show":u[7]||(u[7]=c=>f(a).state.authModalShow=c),class:"auth-card",preset:"card",size:"small","mask-closable":!1,bordered:!1,style:{width:"360px"}},{default:r(()=>[y("div",rt,[s(F,{bordered:!1},{default:r(()=>[t.value?S("",!0):(w(),A("div",at,[s(E,{justify:"center"},{default:r(()=>[s(_,null,{default:r(()=>[s(T,{type:"success"},{default:r(()=>[q("账号登录")]),_:1})]),_:1})]),_:1}),s(M,{ref_key:"loginRef",ref:i,model:n,rules:{username:{required:!0,message:"请输入账户名"},password:{required:!0,message:"请输入密码"}}},{default:r(()=>[s(L,{label:"账户",path:"username"},{default:r(()=>[s(I,{value:n.username,"onUpdate:value":u[0]||(u[0]=c=>n.username=c),placeholder:"请输入用户名",onKeyup:K(D(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1}),s(L,{label:"密码",path:"password"},{default:r(()=>[s(I,{type:"password","show-password-on":"mousedown",value:n.password,"onUpdate:value":u[1]||(u[1]=c=>n.password=c),placeholder:"请输入账户密码",onKeyup:K(D(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["model"]),s(l,{type:"primary",block:"",secondary:"",strong:"",loading:d.value,onClick:h},{default:r(()=>[q(" 登录 ")]),_:1},8,["loading"])])),t.value?(w(),N(x,{key:1,"default-value":f(a).state.authModelTab,size:"large","justify-content":"space-evenly"},{default:r(()=>[s(R,{name:"signin",tab:"登录"},{default:r(()=>[s(M,{ref_key:"loginRef",ref:i,model:n,rules:{username:{required:!0,message:"请输入账户名"},password:{required:!0,message:"请输入密码"}}},{default:r(()=>[s(L,{label:"账户",path:"username"},{default:r(()=>[s(I,{value:n.username,"onUpdate:value":u[2]||(u[2]=c=>n.username=c),placeholder:"请输入用户名",onKeyup:K(D(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1}),s(L,{label:"密码",path:"password"},{default:r(()=>[s(I,{type:"password","show-password-on":"mousedown",value:n.password,"onUpdate:value":u[3]||(u[3]=c=>n.password=c),placeholder:"请输入账户密码",onKeyup:K(D(h,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["model"]),s(l,{type:"primary",block:"",secondary:"",strong:"",loading:d.value,onClick:h},{default:r(()=>[q(" 登录 ")]),_:1},8,["loading"])]),_:1}),s(R,{name:"signup",tab:"注册"},{default:r(()=>[s(M,{ref_key:"registerRef",ref:m,model:p,rules:U},{default:r(()=>[s(L,{label:"用户名",path:"username"},{default:r(()=>[s(I,{value:p.username,"onUpdate:value":u[4]||(u[4]=c=>p.username=c),placeholder:"用户名注册后无法修改"},null,8,["value"])]),_:1}),s(L,{label:"密码",path:"password"},{default:r(()=>[s(I,{type:"password","show-password-on":"mousedown",placeholder:"密码不少于6位",value:p.password,"onUpdate:value":u[5]||(u[5]=c=>p.password=c),onKeyup:K(D(b,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1}),s(L,{label:"重复密码",path:"repassword"},{default:r(()=>[s(I,{type:"password","show-password-on":"mousedown",placeholder:"请再次输入密码",value:p.repassword,"onUpdate:value":u[6]||(u[6]=c=>p.repassword=c),onKeyup:K(D(b,["prevent"]),["enter"])},null,8,["value","onKeyup"])]),_:1})]),_:1},8,["model"]),s(l,{type:"primary",block:"",secondary:"",strong:"",loading:d.value,onClick:b},{default:r(()=>[q(" 注册 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["default-value"])):S("",!0)]),_:1})])]),_:1},8,["show"])}}});const ve=(e,t)=>{const a=e.__vccOpts||e;for(const[d,i]of t)a[d]=i;return a},ut=ve(lt,[["__scopeId","data-v-053dfa44"]]),ro=e=>o({method:"get",url:"/v1/posts",params:e}),it=e=>o({method:"get",url:"/v1/tags",params:e}),ao=e=>o({method:"get",url:"/v1/post",params:e}),lo=e=>o({method:"get",url:"/v1/post/star",params:e}),uo=e=>o({method:"post",url:"/v1/post/star",data:e}),io=e=>o({method:"get",url:"/v1/post/collection",params:e}),co=e=>o({method:"post",url:"/v1/post/collection",data:e}),po=e=>o({method:"get",url:"/v1/post/comments",params:e}),mo=e=>o({method:"get",url:"/v1/user/contacts",params:e}),_o=e=>o({method:"post",url:"/v1/post",data:e}),ho=e=>o({method:"delete",url:"/v1/post",data:e}),go=e=>o({method:"post",url:"/v1/post/lock",data:e}),fo=e=>o({method:"post",url:"/v1/post/stick",data:e}),vo=e=>o({method:"post",url:"/v1/post/highlight",data:e}),wo=e=>o({method:"post",url:"/v1/post/visibility",data:e}),yo=e=>o({method:"post",url:"/v1/tweet/comment/thumbsup",data:e}),bo=e=>o({method:"post",url:"/v1/tweet/comment/thumbsdown",data:e}),ko=e=>o({method:"post",url:"/v1/tweet/reply/thumbsup",data:e}),Po=e=>o({method:"post",url:"/v1/tweet/reply/thumbsdown",data:e}),Lo=e=>o({method:"post",url:"/v1/post/comment",data:e}),Oo=e=>o({method:"delete",url:"/v1/post/comment",data:e}),Ao=e=>o({method:"post",url:"/v1/post/comment/reply",data:e}),To=e=>o({method:"delete",url:"/v1/post/comment/reply",data:e}),Eo=e=>o({method:"post",url:"/v1/topic/stick",data:e}),Io=e=>o({method:"post",url:"/v1/topic/follow",data:e}),Ro=e=>o({method:"post",url:"/v1/topic/unfollow",data:e}),$o=(e={})=>o({method:"get",url:"/v1/captcha",params:e}),Co=e=>o({method:"post",url:"/v1/captcha",data:e}),So=e=>o({method:"post",url:"/v1/user/whisper",data:e}),Uo=e=>o({method:"post",url:"/v1/friend/requesting",data:e}),Mo=e=>o({method:"post",url:"/v1/friend/add",data:e}),qo=e=>o({method:"post",url:"/v1/user/follow",data:e}),Ko=e=>o({method:"post",url:"/v1/user/unfollow",data:e}),Do=e=>o({method:"get",url:"/v1/user/follows",params:e}),No=e=>o({method:"get",url:"/v1/user/followings",params:e}),xo=e=>o({method:"post",url:"/v1/friend/reject",data:e}),Fo=e=>o({method:"post",url:"/v1/friend/delete",data:e}),Vo=e=>o({method:"post",url:"/v1/user/phone",data:e}),zo=e=>o({method:"post",url:"/v1/user/activate",data:e}),Wo=e=>o({method:"post",url:"/v1/user/password",data:e}),Bo=e=>o({method:"post",url:"/v1/user/nickname",data:e}),Ho=e=>o({method:"post",url:"/v1/user/avatar",data:e}),ce=(e={})=>o({method:"get",url:"/v1/user/msgcount/unread",params:e}),jo=e=>o({method:"get",url:"/v1/user/messages",params:e}),Go=e=>o({method:"post",url:"/v1/user/message/read",data:e}),Qo=e=>o({method:"get",url:"/v1/user/collections",params:e}),Yo=e=>o({method:"get",url:"/v1/user/profile",params:e}),Zo=e=>o({method:"get",url:"/v1/user/posts",params:e}),Jo=e=>o({method:"get",url:"/v1/user/wallet/bills",params:e}),Xo=e=>o({method:"post",url:"/v1/user/recharge",data:e}),es=e=>o({method:"get",url:"/v1/user/recharge",params:e}),ts=e=>o({method:"get",url:"/v1/suggest/users",params:e}),os=e=>o({method:"get",url:"/v1/suggest/tags",params:e}),ss=e=>o({method:"get",url:"/v1/attachment/precheck",params:e}),ns=e=>o({method:"get",url:"/v1/attachment",params:e}),rs=e=>o({method:"post",url:"/v1/admin/user/status",data:e}),ct=()=>o({method:"get",url:"/v1/admin/site/status"}),dt={key:0,class:"rightbar-wrap"},pt={class:"search-wrap"},mt={class:"post-num"},_t={class:"post-num"},ht={class:"copyright"},gt=["href"],ft=["href"],vt={class:"copyright"},wt={class:"copyright"},yt=W({__name:"rightbar",setup(e){const t=P([]),a=P([]),d=P(!1),i=P(""),n=B(),m=pe(),p=P(0),U=P(0),h=P(null),b="2023 paopao.info",v="Roc's Me",u="",T="泡泡(PaoPao)开源社区",_="https://www.paopao.info",E=+"6",I=+"12",L=()=>{ct().then(g=>{p.value=g.register_user_count,U.value=g.online_user_count}).catch(g=>{}),F.disconnect()},M=()=>{d.value=!0,it({type:"hot_extral",num:I,extral_num:E}).then(g=>{t.value=g.topics,a.value=g.extral_topics??[],x.value=!0,d.value=!1}).catch(g=>{d.value=!1})},l=g=>g>=1e3?(g/1e3).toFixed(1)+"k":g,R=()=>{m.push({name:"home",query:{q:i.value}})},x=Y({get:()=>n.state.userLogined&&a.value.length!==0,set:g=>{}});G(()=>({refreshTopicFollow:n.state.refreshTopicFollow,userLogined:n.state.userLogined}),(g,c)=>{(g.refreshTopicFollow!==c.refreshTopicFollow||g.userLogined)&&M(),n.state.userInfo.is_admin&&L()});const F=new IntersectionObserver(g=>{g.forEach(c=>{c.isIntersecting&&L()})},{root:null,rootMargin:"0px",threshold:1});return Q(()=>{h.value&&F.observe(h.value),M()}),(g,c)=>{const z=V,we=_e,J=de("router-link"),X=Me,H=ge,ee=me;return f(n).state.collapsedRight?S("",!0):(w(),A("div",dt,[y("div",pt,[s(we,{round:"",clearable:"",placeholder:"搜一搜...",value:i.value,"onUpdate:value":c[0]||(c[0]=$=>i.value=$),onKeyup:K(D(R,["prevent"]),["enter"])},{prefix:r(()=>[s(z,{component:f(He)},null,8,["component"])]),_:1},8,["value","onKeyup"])]),x.value?(w(),N(H,{key:0,class:"hottopic-wrap",title:"关注话题",embedded:"",bordered:!1,size:"small"},{default:r(()=>[s(X,{show:d.value},{default:r(()=>[(w(!0),A(oe,null,se(a.value,$=>(w(),A("div",{class:"hot-tag-item",key:$.id},[s(J,{class:"hash-link",to:{name:"home",query:{q:$.tag,t:"tag"}}},{default:r(()=>[q(" #"+C($.tag),1)]),_:2},1032,["to"]),y("div",mt,C(l($.quote_num)),1)]))),128))]),_:1},8,["show"])]),_:1})):S("",!0),s(H,{class:"hottopic-wrap",title:"热门话题",embedded:"",bordered:!1,size:"small"},{default:r(()=>[s(X,{show:d.value},{default:r(()=>[(w(!0),A(oe,null,se(t.value,$=>(w(),A("div",{class:"hot-tag-item",key:$.id},[s(J,{class:"hash-link",to:{name:"home",query:{q:$.tag,t:"tag"}}},{default:r(()=>[q(" #"+C($.tag),1)]),_:2},1032,["to"]),y("div",_t,C(l($.quote_num)),1)]))),128))]),_:1},8,["show"])]),_:1}),s(H,{class:"copyright-wrap",embedded:"",bordered:!1,size:"small"},{default:r(()=>[y("div",ht,"© "+C(f(b)),1),y("div",null,[s(ee,null,{default:r(()=>[y("a",{href:f(u),target:"_blank",class:"hash-link"},C(f(v)),9,gt),y("a",{href:f(_),target:"_blank",class:"hash-link"},C(f(T)),9,ft)]),_:1})]),f(n).state.userInfo.is_admin?(w(),A("div",{key:0,ref_key:"userInfoElement",ref:h},[s(ee,null,{default:r(()=>[y("span",vt,C(p.value)+" 注册用户  ",1),y("span",wt,C(U.value)+" 人在线",1)]),_:1})],512)):S("",!0)]),_:1})]))}}});const bt=ve(yt,[["__scopeId","data-v-ec9d8d25"]]),kt="/assets/logo-52afee68.png",Pt={class:"sidebar-wrap"},Lt={class:"logo-wrap"},Ot={key:0,class:"user-wrap"},At={class:"user-info"},Tt={class:"nickname"},Et={class:"nickname-txt"},It={class:"username"},Rt={class:"user-mini-wrap"},$t={key:1,class:"user-wrap"},Ct={key:0,class:"login-only-wrap"},St={key:1,class:"login-wrap"},Ut=W({__name:"sidebar",setup(e){const t=B(),a=Oe(),d=pe(),i=P(!1),n=P(a.name||""),m=P(),p="true".toLowerCase()==="true",U="false".toLowerCase()==="true",h="false".toLocaleLowerCase()==="true",b=P("true".toLowerCase()==="true"),v=+"5000";G(a,()=>{n.value=a.name}),G(t.state,()=>{t.state.userInfo.id>0?m.value||(ce().then(l=>{i.value=l.count>0}).catch(l=>{console.log(l)}),m.value=setInterval(()=>{ce().then(l=>{i.value=l.count>0}).catch(l=>{console.log(l)})},v)):m.value&&clearInterval(m.value)}),Q(()=>{window.onresize=()=>{t.commit("triggerCollapsedLeft",document.body.clientWidth<=821),t.commit("triggerCollapsedRight",document.body.clientWidth<=821)}});const u=Y(()=>{const l=[{label:"广场",key:"home",icon:()=>k(re),href:"/"},{label:"话题",key:"topic",icon:()=>k(ae),href:"/topic"}];return U&&l.push({label:"公告",key:"anouncement",icon:()=>k(je),href:"/anouncement"}),l.push({label:"主页",key:"profile",icon:()=>k(Ge),href:"/profile"}),l.push({label:"消息",key:"messages",icon:()=>k(Qe),href:"/messages"}),l.push({label:"收藏",key:"collection",icon:()=>k(Ye),href:"/collection"}),p&&l.push({label:"好友",key:"contacts",icon:()=>k(Ze),href:"/contacts"}),h&&l.push({label:"钱包",key:"wallet",icon:()=>k(Je),href:"/wallet"}),l.push({label:"设置",key:"setting",icon:()=>k(Xe),href:"/setting"}),t.state.userInfo.id>0?l:[{label:"广场",key:"home",icon:()=>k(re),href:"/"},{label:"话题",key:"topic",icon:()=>k(ae),href:"/topic"}]}),T=l=>"href"in l?k("div",{},l.label):l.label,_=l=>l.key==="messages"?k(Ke,{dot:!0,show:i.value,processing:!0},{default:()=>k(V,{color:l.key===n.value?"var(--n-item-icon-color-active)":"var(--n-item-icon-color)"},{default:l.icon})}):k(V,null,{default:l.icon}),E=(l,R={})=>{n.value=l,d.push({name:l,query:{t:new Date().getTime()}})},I=()=>{a.path==="/"&&t.commit("refresh"),E("home")},L=l=>{t.commit("triggerAuth",!0),t.commit("triggerAuthKey",l)},M=()=>{t.commit("userLogout"),t.commit("refresh"),I()};return window.$store=t,window.$message=qe(),(l,R)=>{const x=De,F=Ne,g=xe,c=he;return w(),A("div",Pt,[y("div",Lt,[s(x,{class:"logo-img",width:"36",src:f(kt),"preview-disabled":!0,onClick:I},null,8,["src"])]),s(F,{accordion:!0,"icon-size":24,options:u.value,"render-label":T,"render-icon":_,value:n.value,"onUpdate:value":E},null,8,["options","value"]),f(t).state.userInfo.id>0?(w(),A("div",Ot,[s(g,{class:"user-avatar",round:"",size:34,src:f(t).state.userInfo.avatar},null,8,["src"]),y("div",At,[y("div",Tt,[y("span",Et,C(f(t).state.userInfo.nickname),1),s(c,{class:"logout",quaternary:"",circle:"",size:"tiny",onClick:M},{icon:r(()=>[s(f(V),null,{default:r(()=>[s(f(le))]),_:1})]),_:1})]),y("div",It,"@"+C(f(t).state.userInfo.username),1)]),y("div",Rt,[s(c,{class:"logout",quaternary:"",circle:"",onClick:M},{icon:r(()=>[s(f(V),{size:24},{default:r(()=>[s(f(le))]),_:1})]),_:1})])])):(w(),A("div",$t,[b.value?S("",!0):(w(),A("div",Ct,[s(c,{strong:"",secondary:"",round:"",type:"primary",onClick:R[0]||(R[0]=z=>L("signin"))},{default:r(()=>[q(" 登录 ")]),_:1})])),b.value?(w(),A("div",St,[s(c,{strong:"",secondary:"",round:"",type:"primary",onClick:R[1]||(R[1]=z=>L("signin"))},{default:r(()=>[q(" 登录 ")]),_:1}),s(c,{strong:"",secondary:"",round:"",type:"info",onClick:R[2]||(R[2]=z=>L("signup"))},{default:r(()=>[q(" 注册 ")]),_:1})])):S("",!0)]))])}}});const Mt={"has-sider":"",class:"main-wrap",position:"static"},qt={key:0},Kt={class:"content-wrap"},Dt=W({__name:"App",setup(e){const t=B(),a=Y(()=>t.state.theme==="dark"?Ve:null);return(d,i)=>{const n=Ut,m=de("router-view"),p=bt,U=ut,h=ze,b=We,v=Be,u=Fe;return w(),N(u,{theme:a.value},{default:r(()=>[s(b,null,{default:r(()=>[s(h,null,{default:r(()=>{var T;return[y("div",{class:be(["app-container",{dark:((T=a.value)==null?void 0:T.name)==="dark",mobile:!f(t).state.desktopModelShow}])},[y("div",Mt,[f(t).state.desktopModelShow?(w(),A("div",qt,[s(n)])):S("",!0),y("div",Kt,[s(m,{class:"app-wrap"},{default:r(({Component:_})=>[(w(),N(ye,null,[d.$route.meta.keepAlive?(w(),N(ne(_),{key:0})):S("",!0)],1024)),d.$route.meta.keepAlive?S("",!0):(w(),N(ne(_),{key:0}))]),_:1})]),s(p)]),s(U)],2)]}),_:1})]),_:1}),s(v)]),_:1},8,["theme"])}}});ke(Dt).use(fe).use(st).mount("#app");export{Vo as $,Ro as A,Io as B,it as C,Uo as D,Yo as E,Fo as F,Ko as G,qo as H,rs as I,Mo as J,xo as K,Go as L,jo as M,Qo as N,ss as O,ns as P,Do as Q,No as R,So as S,j as T,Jo as U,Xo as V,es as W,$o as X,Ho as Y,Wo as Z,ve as _,os as a,zo as a0,Bo as a1,Co as a2,Ut as a3,mo as b,_o as c,ro as d,Zo as e,Po as f,ts as g,To as h,yo as i,bo as j,Ao as k,Oo as l,Lo as m,lo as n,io as o,ho as p,go as q,vo as r,fo as s,ko as t,uo as u,wo as v,co as w,ao as x,po as y,Eo as z};
